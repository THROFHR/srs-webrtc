<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .input {
            width: 80vw;
            height: 34px;
            margin: 20px auto;
        }
    </style>
</head>

<body>
    <input placeholder="请输入 推流地址 webrtc://" type="text" id="push" class="input">
    <input placeholder="请输入 设备地址 http://" type="text" id="device" class="input">
    <button onClick="doGen()" class="input">生成链接</button>
    <div id="output"></div>
    <script>
        function tLink(link) {
            var v = new URL(link)
            return link.replace(v.origin, location.origin)
        }
        function doGen() {
            const push = document.getElementById("push").value
            const device = tLink(document.getElementById("device").value)
            const output = document.getElementById("output")

            const link = new URL(location.origin + '/html/demo.html')
            link.searchParams.set("push", push)
            link.searchParams.set("device", device)

            output.innerText = "生成地址：" + link.toString()
        }
    </script>
</body>

</html>